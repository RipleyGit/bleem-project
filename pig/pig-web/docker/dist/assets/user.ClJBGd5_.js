const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.DcTeW9Mp.js","assets/index.Cli_Cq8U.js","assets/vue.DKOcwzik.js","assets/index.D-bKb_v8.css","assets/userNews.DH-c3unn.js","assets/userNews.Dg-fmsNF.css","assets/search.DszS5kJG.js","assets/search.Bxt5yo08.css","assets/personal.BYy0oa6N.js","assets/user.BEEcNKdG.js","assets/personal.DQUvcDzw.css"])))=>i.map(i=>d[i]);
import{v as ge,a as he,u as _e,L as k,c as y,E as we,e as G,P as pe,l as ve,S as ke,o as Ee,g as ye,_ as Se,__tla as Ce}from"./index.Cli_Cq8U.js";import{d as Fe,a as Ie,aF as ze,az as H,r as S,y as Oe,f as J,q as xe,ae as d,o as N,b as Te,G as l,H as s,e as i,J as Q,u as o,U as w,V as C,E as Pe,S as Re,I as Ae,aC as F}from"./vue.DKOcwzik.js";let K,I,Le=Promise.all([(()=>{try{return Ce}catch{}})()]).then(async()=>{const O=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],m=(()=>{if(typeof document>"u")return!1;const n=O[0],a={};for(const t of O)if((t==null?void 0:t[1])in document){for(const[g,h]of t.entries())a[n[g]]=h;return a}return!1})(),x={change:m.fullscreenchange,error:m.fullscreenerror};let r={request:(n=document.documentElement,a)=>new Promise((t,b)=>{const g=()=>{r.off("change",g),t()};r.on("change",g);const h=n[m.requestFullscreen](a);h instanceof Promise&&h.then(g).catch(b)}),exit:()=>new Promise((n,a)=>{if(!r.isFullscreen)return void n();const t=()=>{r.off("change",t),n()};r.on("change",t);const b=document[m.exitFullscreen]();b instanceof Promise&&b.then(t).catch(a)}),toggle:(n,a)=>r.isFullscreen?r.exit():r.request(n,a),onchange(n){r.on("change",n)},onerror(n){r.on("error",n)},on(n,a){const t=x[n];t&&document.addEventListener(t,a,!1)},off(n,a){const t=x[n];t&&document.removeEventListener(t,a,!1)},raw:m};Object.defineProperties(r,{isFullscreen:{get:()=>!!document[m.fullscreenElement]},element:{enumerable:!0,get:()=>document[m.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[m.fullscreenEnabled]}}),m||(r={isEnabled:!1});let T,P,R,A,L,M,q,B;I=Fe("msg",{state:()=>({msgArray:[]}),actions:{getAllMsg(){return this.msgArray},setMsg(n){this.msgArray.push(n)},removeAll(){this.msgArray=[]}}}),T={class:"layout-navbars-breadcrumb-user-icon"},P=["title"],R=["title"],A={class:"layout-navbars-breadcrumb-user-icon"},L=["title"],M={class:"layout-navbars-breadcrumb-user-link"},q=["src"],B=Se(Ie({name:"layoutBreadcrumbUser",setup(n){const a=F(()=>y(()=>import("./index.DcTeW9Mp.js"),__vite__mapDeps([0,1,2,3]))),t=F(()=>y(()=>import("./userNews.DH-c3unn.js"),__vite__mapDeps([4,2,1,3,5]))),b=F(()=>y(()=>import("./search.DszS5kJG.js"),__vite__mapDeps([6,1,2,3,7]))),g=F(()=>y(()=>import("./personal.BYy0oa6N.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([8,1,2,3,9,10]))),{locale:h,t:p}=ge.useI18n(),$=ze(),W=he(),X=_e(),{userInfos:D}=H(W),{themeConfig:_}=H(X),j=S(),Y=S(),V=S(),f=Oe({isScreenfull:!1,disabledI18n:"zh-cn",disabledSize:"large"}),Z=S(!1),ee=J(()=>{let e="";const{layout:u,isClassicSplitMenu:c}=_.value;return e=["defaults","columns"].includes(u)||u==="classic"&&!c?"1":"",e}),le=()=>{if(!r.isEnabled)return we.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;r.toggle(),r.on("change",()=>{r.isFullscreen?f.isScreenfull=!0:f.isScreenfull=!1})},ne=()=>{G.emit("openSetingsDrawer")},te=e=>{e==="logOut"?pe({closeOnClickModal:!1,closeOnPressEscape:!1,title:p("user.logOutTitle"),message:p("user.logOutMessage"),showCancelButton:!0,confirmButtonText:p("user.logOutConfirm"),cancelButtonText:p("user.logOutCancel"),buttonSize:"default",beforeClose:(u,c,v)=>{u==="confirm"?(c.confirmButtonLoading=!0,c.confirmButtonText=p("user.logOutExit"),setTimeout(()=>{v(),setTimeout(()=>{c.confirmButtonLoading=!1},300)},700)):v()}}).then(async()=>{G.emit("onCurrentContextmenuClick",Object.assign({},{contextMenuClickId:3,...$})),await ve(),ke.clear(),window.location.reload()}).catch(()=>{}):e==="personal"?V.value.open():$.push(e)},se=()=>{j.value.openSearch()},re=e=>{k.remove("themeConfig"),_.value.globalI18n=e,k.set("themeConfig",_.value),h.value=e,Ee.useTitle(),z("globalI18n","disabledI18n")},ae=()=>{_.value.isLockScreen=!0,_.value.lockScreenTime=0,k.set("themeConfig",_.value)},z=(e,u)=>{f[u]=k.get("themeConfig")[e]},oe=e=>{I().setMsg({label:"websocket\u6D88\u606F",value:e,time:ye(new Date)})},ue=J(()=>I().getAllMsg().length>0);return xe(()=>{k.get("themeConfig")&&(z("globalComponentSize","disabledSize"),z("globalI18n","disabledI18n"))}),(e,u)=>{const c=d("el-dropdown-item"),v=d("el-dropdown-menu"),U=d("el-dropdown"),ce=d("ele-Lock"),E=d("el-icon"),ie=d("ele-Search"),de=d("ele-Bell"),me=d("el-badge"),fe=d("el-popover"),be=d("ele-ArrowDown");return N(),Te("div",{class:"layout-navbars-breadcrumb-user pr15",style:Ae({flex:o(ee)})},[l(U,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:re},{dropdown:s(()=>[l(v,null,{default:s(()=>[l(c,{command:"zh-cn",disabled:o(f).disabledI18n==="zh-cn"},{default:s(()=>u[0]||(u[0]=[w("\u7B80\u4F53\u4E2D\u6587")])),_:1},8,["disabled"]),l(c,{command:"en",disabled:o(f).disabledI18n==="en"},{default:s(()=>u[1]||(u[1]=[w("English")])),_:1},8,["disabled"])]),_:1})]),default:s(()=>[i("div",T,[i("i",{class:Q(["iconfont",o(f).disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),title:e.$t("user.title1")},null,10,P)])]),_:1}),i("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:ae},[l(E,{title:e.$t("layout.threeLockScreenTime")},{default:s(()=>[l(ce)]),_:1},8,["title"])]),i("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:se},[l(E,{title:e.$t("user.title2")},{default:s(()=>[l(ie)]),_:1},8,["title"])]),i("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:ne},[i("i",{class:"icon-skin iconfont",title:e.$t("user.title3")},null,8,R)]),i("div",A,[l(fe,{placement:"bottom",trigger:"click",transition:"el-zoom-in-top",width:300,persistent:!1},{reference:s(()=>[l(me,{"is-dot":o(ue)},{default:s(()=>[l(E,{title:e.$t("user.title4")},{default:s(()=>[l(de)]),_:1},8,["title"])]),_:1},8,["is-dot"])]),default:s(()=>[l(o(t),{ref_key:"newsRef",ref:Y},null,512)]),_:1})]),i("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:le},[i("i",{class:Q(["iconfont",o(f).isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:o(f).isScreenfull?e.$t("user.title6"):e.$t("user.title5")},null,10,L)]),l(U,{"show-timeout":70,"hide-timeout":50,onCommand:te},{dropdown:s(()=>[l(v,null,{default:s(()=>[l(c,{command:"/home"},{default:s(()=>[w(C(e.$t("user.dropdown1")),1)]),_:1}),l(c,{command:"personal"},{default:s(()=>[w(C(e.$t("user.dropdown2")),1)]),_:1}),l(c,{divided:"",command:"logOut"},{default:s(()=>[w(C(e.$t("user.dropdown5")),1)]),_:1})]),_:1})]),default:s(()=>[i("span",M,[i("img",{src:o(D).user.avatar,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,q),w(" "+C(o(D).user.username)+" ",1),l(E,{class:"el-icon--right"},{default:s(()=>[l(be)]),_:1})])]),_:1}),l(o(b),{ref_key:"searchRef",ref:j},null,512),o(Z)?(N(),Pe(o(a),{key:0,uri:"/admin/ws/info",onRollback:oe})):Re("",!0),l(o(g),{ref_key:"personalDrawerRef",ref:V},null,512)],4)}}}),[["__scopeId","data-v-f77617c2"]]),K=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}))});export{Le as __tla,K as a,I as u};
