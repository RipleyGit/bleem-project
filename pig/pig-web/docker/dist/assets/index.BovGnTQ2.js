const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/form.Dq57Z5QV.js","assets/index.Cli_Cq8U.js","assets/vue.DKOcwzik.js","assets/index.D-bKb_v8.css","assets/template.DY8D7_ZN.js","assets/form.DBb27tRh.css"])))=>i.map(i=>d[i]);
import{v as X,c as Y,k as Z,d as w,__tla as ee}from"./index.Cli_Cq8U.js";import{a as ae,r as f,y as le,ae as r,af as R,o as p,b as te,e as E,Q as u,W as oe,u as e,G as l,H as o,ap as ne,U as y,V as h,E as _,x as re,K as se,aC as ie}from"./vue.DKOcwzik.js";import{u as me}from"./table.DpIaW019.js";import{f as de,d as ce,o as pe}from"./template.DY8D7_ZN.js";let V,ue=Promise.all([(()=>{try{return ee}catch{}})()]).then(async()=>{let k,S,T;k={class:"layout-padding"},S={class:"layout-padding-auto layout-padding-view"},T={class:"mb8",style:{width:"100%"}},V=ae({name:"systemGenTemplate",setup(ye){const L=ie(()=>Y(()=>import("./form.Dq57Z5QV.js").then(async a=>(await a.__tla,a)),__vite__mapDeps([0,1,2,3,4,5]))),{t:s}=X.useI18n(),C=f(),x=f(!1),D=f(),b=f(!0),v=f([]),F=f(!0),i=le({queryForm:{},pageList:de,descs:["create_time"]}),{getDataList:m,currentChangeHandle:P,sizeChangeHandle:U,downBlobFile:z,tableStyle:$}=me(i),H=()=>{D.value.resetFields(),v.value=[],m()},K=()=>{z("/gen/template/export",i.queryForm,"template.xlsx")},Q=a=>{v.value=a.map(({id:t})=>t),F.value=!a.length},q=async a=>{try{await Z().confirm(s("common.delConfirmText"))}catch{return}try{await ce(a),m(),w().success(s("common.delSuccessText"))}catch(t){w().error(t.msg)}},G=async()=>{try{x.value=!0;const{data:a}=await pe();m(),w().success(a)}catch(a){w().error(a.msg)}finally{x.value=!1}};return(a,t)=>{const I=r("el-input"),B=r("el-form-item"),d=r("el-button"),A=r("el-form"),N=r("el-row"),O=r("right-toolbar"),c=r("el-table-column"),W=r("el-table"),j=r("pagination"),g=R("auth"),J=R("loading");return p(),te("div",k,[E("div",S,[u(l(N,{class:"ml10"},{default:o(()=>[l(A,{inline:!0,model:e(i).queryForm,onKeyup:ne(e(m),["enter"]),ref_key:"queryRef",ref:D},{default:o(()=>[l(B,{label:a.$t("template.templateName"),prop:"templateName"},{default:o(()=>[l(I,{placeholder:e(s)("template.inputTemplateNameTip"),style:{"max-width":"180px"},modelValue:e(i).queryForm.templateName,"onUpdate:modelValue":t[0]||(t[0]=n=>e(i).queryForm.templateName=n)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),l(B,null,{default:o(()=>[l(d,{onClick:e(m),formDialogRef:"",icon:"search",type:"primary"},{default:o(()=>[y(h(a.$t("common.queryBtn")),1)]),_:1},8,["onClick"]),l(d,{onClick:H,formDialogRef:"",icon:"Refresh"},{default:o(()=>[y(h(a.$t("common.resetBtn")),1)]),_:1})]),_:1})]),_:1},8,["model","onKeyup"])]),_:1},512),[[oe,e(b)]]),l(N,null,{default:o(()=>[E("div",T,[u((p(),_(d,{onClick:t[1]||(t[1]=n=>e(C).openDialog()),class:"ml10",icon:"folder-add",type:"primary"},{default:o(()=>[y(h(a.$t("common.addBtn")),1)]),_:1})),[[g,"codegen_template_add"]]),u((p(),_(d,{plain:"",disabled:e(F),onClick:t[2]||(t[2]=n=>q(e(v))),class:"ml10",icon:"Delete",type:"primary"},{default:o(()=>[y(h(a.$t("common.delBtn")),1)]),_:1},8,["disabled"])),[[g,"codegen_template_del"]]),u((p(),_(d,{onClick:G,class:"ml10",icon:"download",plain:"",disabled:e(x)},{default:o(()=>t[5]||(t[5]=[y(" \u66F4\u65B0 ")])),_:1},8,["disabled"])),[[g,"codegen_template_add"]]),l(O,{export:"codegen_template_export",onExportExcel:K,onQueryTable:e(m),class:"ml10",style:{float:"right","margin-right":"20px"},showSearch:e(b),"onUpdate:showSearch":t[3]||(t[3]=n=>re(b)?b.value=n:null)},null,8,["onQueryTable","showSearch"])])]),_:1}),u((p(),_(W,{data:e(i).dataList,onSelectionChange:Q,style:{width:"100%"},border:"","cell-style":e($).cellStyle,"header-cell-style":e($).headerCellStyle},{default:o(()=>[l(c,{align:"center",type:"selection",width:"40"}),l(c,{label:e(s)("template.index"),type:"index",width:"60"},null,8,["label"]),l(c,{label:e(s)("template.templateName"),prop:"templateName","show-overflow-tooltip":""},null,8,["label"]),l(c,{label:e(s)("template.generatorPath"),prop:"generatorPath","show-overflow-tooltip":""},null,8,["label"]),l(c,{label:e(s)("template.desc"),prop:"templateDesc","show-overflow-tooltip":""},null,8,["label"]),l(c,{label:e(s)("template.createTime"),prop:"createTime","show-overflow-tooltip":""},null,8,["label"]),l(c,{label:a.$t("common.action"),width:"150"},{default:o(n=>[u((p(),_(d,{icon:"edit-pen",onClick:M=>e(C).openDialog(n.row.id),text:"",type:"primary"},{default:o(()=>[y(h(a.$t("common.editBtn")),1)]),_:2},1032,["onClick"])),[[g,"codegen_template_edit"]]),u((p(),_(d,{icon:"delete",onClick:M=>q([n.row.id]),text:"",type:"primary"},{default:o(()=>[y(h(a.$t("common.delBtn")),1)]),_:2},1032,["onClick"])),[[g,"codegen_template_del"]])]),_:1},8,["label"])]),_:1},8,["data","cell-style","header-cell-style"])),[[J,e(i).loading]]),l(j,se({onCurrentChange:e(P),onSizeChange:e(U)},e(i).pagination),null,16,["onCurrentChange","onSizeChange"])]),l(e(L),{onRefresh:t[4]||(t[4]=n=>e(m)()),ref_key:"formDialogRef",ref:C},null,512)])}}})});export{ue as __tla,V as default};
