import{b as v,v as x,_ as b}from"./index.Cli_Cq8U.js";import{a as I,az as Q,r as k,aF as C,y as U,ae as o,o as H,b as O,G as l,H as c,u as m,e as R,U as $,V as z,t as A}from"./vue.DKOcwzik.js";const B={class:"layout-search-dialog"},F=b(I({name:"layoutBreadcrumbSearch",setup(G,{expose:p}){const f=v(),{tagsViewRoutes:w}=Q(f),d=k(),{t:S}=x.useI18n(),h=C(),s=U({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),g=(e,a)=>{a(e?s.tagsViewList.filter(V(e)):s.tagsViewList)},V=e=>a=>a.path.toLowerCase().indexOf(e.toLowerCase())>-1||S(a.name).indexOf(e.toLowerCase())>-1,y=()=>{if(s.tagsViewList.length>0)return!1;w.value.map(e=>{var a;(a=e.meta)!=null&&a.isHide||s.tagsViewList.push({...e})})},L=e=>{var r,u,n;let{path:a,redirect:i}=e;(r=e.meta)!=null&&r.isLink&&!((u=e.meta)!=null&&u.isIframe)?window.open((n=e.meta)==null?void 0:n.isLink):i?h.push(i):h.push(a),s.isShowSearch=!1};return p({openSearch:()=>{s.menuQuery="",s.isShowSearch=!0,y(),A(()=>{setTimeout(()=>{d.value.focus()})})}}),(e,a)=>{const i=o("ele-Search"),r=o("el-icon"),u=o("SvgIcon"),n=o("el-autocomplete"),_=o("el-dialog");return H(),O("div",B,[l(_,{modelValue:m(s).isShowSearch,"onUpdate:modelValue":a[1]||(a[1]=t=>m(s).isShowSearch=t),"destroy-on-close":"","show-close":!1},{footer:c(()=>[l(n,{modelValue:m(s).menuQuery,"onUpdate:modelValue":a[0]||(a[0]=t=>m(s).menuQuery=t),"fetch-suggestions":g,placeholder:e.$t("user.searchPlaceholder"),ref_key:"layoutMenuAutocompleteRef",ref:d,onSelect:L,"fit-input-width":!0},{prefix:c(()=>[l(r,{class:"el-input__icon"},{default:c(()=>[l(i)]),_:1})]),default:c(({item:t})=>[R("div",null,[l(u,{name:t.meta.icon,class:"mr5"},null,8,["name"]),$(" "+z(e.$t(t.name)),1)])]),_:1},8,["modelValue","placeholder"])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-2616bc22"]]);export{F as default};
