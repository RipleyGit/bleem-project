const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/iframes.DrPhF9Ms.js","assets/vue.DKOcwzik.js"])))=>i.map(i=>d[i]);
import{j as T,u as E,e as _,S as D,c as G,__tla as O}from"./index.Cli_Cq8U.js";import{a as S,aD as b,aF as j,az as K,y as q,f as V,a5 as x,t as d,q as z,Z as F,p as H,ae as Q,o as f,b as U,G as r,H as o,X as h,u as e,E as y,aG as W,Q as p,R as A,W as w,S as L,aC as X}from"./vue.DKOcwzik.js";let g,Z=Promise.all([(()=>{try{return O}catch{}})()]).then(async()=>{let R;R={class:"layout-parent"},g=S({name:"layoutParentView",setup(B){const k=X(()=>G(()=>import("./iframes.DrPhF9Ms.js"),__vite__mapDeps([0,1]))),t=b(),C=j(),I=T(),N=E(),{keepAliveNames:u,cachedViews:P}=K(I),{themeConfig:c}=K(N),a=q({refreshRouterViewKey:"",iframeRefreshKey:"",keepAliveNameList:[],iframeList:[]}),l=V(()=>c.value.animation),n=V(()=>t.meta.isIframe);return x(()=>{a.keepAliveNameList=u.value,_.on("onTagsViewRefreshRouterView",s=>{a.keepAliveNameList=u.value.filter(i=>t.name!==i),a.refreshRouterViewKey="",a.iframeRefreshKey="",d(()=>{a.refreshRouterViewKey=s,a.iframeRefreshKey=s,a.keepAliveNameList=u.value})})}),z(()=>{(async()=>C.getRoutes().forEach(s=>{s.meta.isIframe&&(s.meta.isIframeOpen=!1,s.meta.loading=!0,a.iframeList.push({...s}))}))(),d(()=>{setTimeout(()=>{if(c.value.isCacheTagsView){let s=D.get("tagsViewList")||[];P.value=s.filter(i=>{var m;return(m=i.meta)==null?void 0:m.isKeepAlive}).map(i=>i.name)}},0)})}),F(()=>{_.off("onTagsViewRefreshRouterView",()=>{})}),H(()=>t.fullPath,()=>{a.refreshRouterViewKey=decodeURI(t.fullPath)},{immediate:!0}),(s,i)=>{const m=Q("router-view");return f(),U("div",R,[r(m,null,{default:o(({Component:v})=>[r(h,{name:e(l),mode:"out-in"},{default:o(()=>[(f(),y(W,null,[e(t).meta.isKeepAlive?p((f(),y(A(v),{key:e(a).refreshRouterViewKey,class:"w100"})),[[w,!e(n)]]):L("",!0)],1024))]),_:2},1032,["name"]),r(h,{name:e(l),mode:"out-in"},{default:o(()=>[e(t).meta.isKeepAlive?L("",!0):p((f(),y(A(v),{key:e(a).refreshRouterViewKey,class:"w100"})),[[w,!e(n)]])]),_:2},1032,["name"])]),_:1}),r(h,{name:e(l),mode:"out-in"},{default:o(()=>[p(r(e(k),{class:"w100",refreshKey:e(a).iframeRefreshKey,name:e(l),list:e(a).iframeList},null,8,["refreshKey","name","list"]),[[w,e(n)]])]),_:1},8,["name"])])}}})});export{Z as __tla,g as default};
