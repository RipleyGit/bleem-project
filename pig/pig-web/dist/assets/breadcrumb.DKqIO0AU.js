import{a as $,az as C,aD as z,aF as q,y as D,f as G,q as H,aI as J,ae as b,o as r,b as l,G as d,u as i,H as p,as as R,M as j,a8 as U,E as h,S as v,V as y,$ as A,U as K}from"./vue.DKOcwzik.js";import{J as O,u as P,o as f,L as F,_ as Q}from"./index.BLQPjP0P.js";const T={key:0,class:"layout-navbars-breadcrumb"},W={key:0,class:"layout-navbars-breadcrumb-span"},X={key:1},Y={key:2},Z=["onClick"],aa=Q($({name:"layoutBreadcrumb",setup(ea){const x=O(),V=P(),{themeConfig:u}=C(V),{routesList:S}=C(x),n=z(),g=q(),a=D({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),_=G(()=>{c(n);const{layout:e,isBreadcrumb:s}=u.value;return e!=="classic"&&e!=="transverse"&&!!s}),w=()=>{u.value.isCollapse=!u.value.isCollapse,B()},B=()=>{F.remove("themeConfig"),F.set("themeConfig",u.value)},L=e=>{e.forEach(s=>{a.routeSplit.forEach((o,I,m)=>{a.routeSplitFirst===s.path&&(a.routeSplitFirst+=`/${m[a.routeSplitIndex]}`,a.breadcrumbList.push(s),a.routeSplitIndex++,s.children&&L(s.children))})})},c=e=>{let s=e.path;if(!u.value.isBreadcrumb)return!1;a.breadcrumbList=[S.value[0]],a.routeSplit=s.split("/"),a.routeSplit.shift(),a.routeSplitFirst=`/${a.routeSplit[0]}`,a.routeSplitIndex=1,L(S.value),a.breadcrumbList.push(n),e.name==="router.home"||e.name==="staticRoutes.notFound"&&a.breadcrumbList.length>1?a.breadcrumbList.splice(0,a.breadcrumbList.length-1):a.breadcrumbList.length>0&&(a.breadcrumbList[a.breadcrumbList.length-1].meta.tagsViewName=f.setMenuI18n(n))};return H(()=>{c(n)}),J(e=>{c(e)}),(e,s)=>{const o=b("SvgIcon"),I=b("el-breadcrumb-item"),m=b("el-breadcrumb");return _.value?(r(),l("div",T,[d(o,{class:"layout-navbars-breadcrumb-icon",name:i(u).isCollapse?"ele-Expand":"ele-Fold",size:16,onClick:w},null,8,["name"]),d(m,{class:"layout-navbars-breadcrumb-hide"},{default:p(()=>[d(R,{name:"breadcrumb"},{default:p(()=>[(r(!0),l(j,null,U(a.breadcrumbList,(t,E)=>(r(),h(I,{key:t.meta.tagsViewName?t.meta.tagsViewName:t.name},{default:p(()=>[E===a.breadcrumbList.length-1?(r(),l("span",W,[i(u).isBreadcrumbIcon?(r(),h(o,{key:0,name:t.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):v("",!0),t.meta.tagsViewName?(r(),l("div",Y,y(t.meta.tagsViewName),1)):(r(),l("div",X,y(i(f).setMenuI18n(t)),1))])):(r(),l("a",{key:1,onClick:A(ta=>(N=>{const{redirect:k,path:M}=N;k?g.push(k):g.push(M)})(t),["prevent"])},[i(u).isBreadcrumbIcon?(r(),h(o,{key:0,name:t.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):v("",!0),K(y(i(f).setMenuI18n(t)),1)],8,Z))]),_:2},1024))),128))]),_:1})]),_:1})])):v("",!0)}}}),[["__scopeId","data-v-0e4961c8"]]);export{aa as default};
