import{a as g,_ as x}from"./index.BLQPjP0P.js";import{g as h}from"./user.CNPc-XGb.js";import{a as w,r as u,q as y,ae as p,o as v,E as b,H as N,e,G as k,u as t,V as c,b as I,S as j}from"./vue.DKOcwzik.js";const _={class:"flex items-center justify-between"},z={class:"flex items-center gap-4"},D={class:"text-lg font-semibold text-gray-800 mb-2"},L={class:"flex items-center gap-2 text-sm"},U={class:"px-3 py-1 bg-blue-50 text-blue-600 rounded-full"},q={key:0,class:"px-3 py-1 bg-green-50 text-green-600 rounded-full"},B={class:"flex items-center gap-2 text-sm text-gray-500"},C=x(w({name:"currentUser",setup(E){const d=u(new Date),a=u({postName:"",name:"",username:"",userId:"",avatar:"",deptName:""}),i=u(!1);setInterval(()=>{d.value=new Date},1e3),y(()=>{const s=g().userInfos;f(s.user.userId)});const f=async s=>{var r,n;try{i.value=!0;const l=await h(s);a.value=l.data,a.value.postName=((n=(r=l.data)==null?void 0:r.postList)==null?void 0:n.map(o=>o.postName).join(","))||"",a.value.avatar=l.data.avatar}finally{i.value=!1}};return(s,r)=>{const n=p("el-avatar"),l=p("el-card");return v(),b(l,{class:"h-full shadow-sm hover:shadow-md transition-shadow"},{default:N(()=>{var o,m;return[e("div",_,[e("div",z,[k(n,{size:56,shape:"circle",src:s.baseURL+t(a).avatar,class:"ring-1 ring-gray-100"},null,8,["src"]),e("div",null,[e("h3",D,c(t(a).name),1),e("div",L,[e("span",U,c((m=(o=t(a))==null?void 0:o.dept)==null?void 0:m.name),1),t(a).postName?(v(),I("span",q,c(t(a).postName),1)):j("",!0)])])]),e("div",B,[r[0]||(r[0]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,c(s.parseTime(t(d))),1)])])]}),_:1})}}}),[["__scopeId","data-v-29cc1d16"]]);export{C as default};
