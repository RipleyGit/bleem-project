const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.BZAKyLcI.js","assets/vue.DKOcwzik.js","assets/index.BLQPjP0P.js","assets/index.D-bKb_v8.css","assets/index.BkY55_OW.css"])))=>i.map(i=>d[i]);
import{c as z,C as A,_ as L,__tla as j}from"./index.BLQPjP0P.js";import{l as G}from"./table.DbVok9xg.js";import{c as H}from"./commonFunction.BBunpLLX.js";import{a as M,r as f,y as S,ae as d,o as g,E as P,H as r,G as s,u,b as q,M as B,a8 as F,x as V,aC as J}from"./vue.DKOcwzik.js";let N,K=Promise.all([(()=>{try{return j}catch{}})()]).then(async()=>{let b;b=M({name:"preview",setup(Q,{expose:x}){const C=J(()=>z(()=>import("./index.BZAKyLcI.js"),__vite__mapDeps([0,1,2,3,4]))),{copyText:I}=H(),h=f(!1),p=S({open:!1,titel:"\u4EE3\u7801\u9884\u89C8",fileTree:[],activeName:""}),v=f([]),m=f(""),_=f([]),k=f(!1),T=f(),E=l=>{k.value=!0,_.value=[],G(l).then(e=>{v.value=e;for(let o in e)_.value.push(e[o].codePath);m.value=e[0].code,p.activeName=e[0].codePath;const a=O(_);p.fileTree=A(a,"id","parentId","children","/")}).finally(()=>{k.value=!1})},w=async(l,e)=>{if(e&&!e.isLeaf)return!1;p.activeName=l.id;const a=v.value.filter(o=>o.codePath===l.id);a.length>0&&(m.value=a[0].code)},D=l=>{const e=v.value.filter(a=>a.codePath===l.paneName);e.length>0&&(m.value=e[0].code)},O=l=>{const e={},a=[];for(const o of l.value){let c=[];c=o.includes("\\")?o.split("\\"):o.split("/");let n="";for(let i=0;i<c.length;i++){const y=n;n=n.length===0?c[i]:n.replaceAll(".","/")+"/"+c[i],e[n]||(e[n]=!0,a.push({id:n,label:c[i],parentId:y||"/",templateName:o.k}))}}return a};return x({openDialog:async l=>{await E(l),h.value=!0}}),(l,e)=>{const a=d("el-tree"),o=d("el-scrollbar"),c=d("pane"),n=d("SvgIcon"),i=d("el-tab-pane"),y=d("el-tabs"),R=d("splitpanes"),U=d("el-dialog");return g(),P(U,{fullscreen:"",title:"\u4EE3\u7801\u9884\u89C8",modelValue:u(h),"onUpdate:modelValue":e[2]||(e[2]=t=>V(h)?h.value=t:null),width:"90%",top:"3vh","append-to-body":"","close-on-click-modal":!1},{default:r(()=>[s(R,null,{default:r(()=>[s(c,{size:"25"},{default:r(()=>[s(o,{height:"calc(100vh - 100px)",class:"mt20"},{default:r(()=>[s(a,{ref:"treeRef","node-key":"id",data:u(p).fileTree,"expand-on-click-node":!1,"highlight-current":"",onNodeClick:w},null,8,["data"])]),_:1})]),_:1}),s(c,null,{default:r(()=>[s(y,{modelValue:u(p).activeName,"onUpdate:modelValue":e[1]||(e[1]=t=>u(p).activeName=t),onTabClick:D},{default:r(()=>[(g(!0),q(B,null,F(u(v),t=>(g(),P(i,{label:t.codePath.substring(t.codePath.lastIndexOf("/")+1),name:t.codePath,key:t.codePath},{default:r(()=>[s(n,{name:"ele-CopyDocument",size:25,class:"copy_btn",onClick:W=>u(I)(t.code)},null,8,["onClick"])]),_:2},1032,["label","name"]))),128)),s(u(C),{ref_key:"codeEditorRef",ref:T,theme:"darcula",modelValue:u(m),"onUpdate:modelValue":e[0]||(e[0]=t=>V(m)?m.value=t:null),mode:"go",readOnly:"",height:"calc(100vh - 100px)"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),N=L(b,[["__scopeId","data-v-c9e4fc2b"]])});export{K as __tla,N as default};
